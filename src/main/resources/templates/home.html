<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<div layout:fragment="main_content">
    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Model</th>
            <th scope="col">Count</th>
            <th scope="col">Price</th>
            <th scope="col">Country</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each="laptop: ${products}">
            <th scope="row" th:text="${laptop.id}"></th>
            <td th:text="${laptop.getModel()}"></td>
            <td th:text="${laptop.getCount()}"></td>
            <td th:text="${laptop.getPrice()} + ' KZT'"></td>
            <td></td>

            <td><a th:href="@{'edit/' + ${laptop.getId()}}" type="button" class="btn btn-info">Edit</a></td>
            <td>
                <a th:href="@{'delete/' + ${laptop.getId()}}" class="btn btn-danger btn-delete"
                   id="deleteBtn" data-toggle="modal" data-target="#deleteModal">
                    Delete
                </a>

                <div class="modal fade" id="deleteModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Delete Confirmation</h5>
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">Ã—</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Do you want to delete product ?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    Close
                                </button>
                                <a class="btn btn-danger delete-prod" id="delProduct">
                                    Delete
                                </a>
                            </div>
                        </div>
                    </div>
                    <script type="text/javascript">
                        $('document').ready(function () {
                            $('.btn-delete').on('click', function (event) {
                                event.preventDefault();
                                var hrefProd = $(this).attr('href');
                                console.log("65sadfasd", hrefProd);
                                $('#deleteModal #delProduct').attr('href', hrefProd);
                                $('#deleteModal').modal();
                            });
                        });
                    </script>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</html>
